{"run_id":"1723535780-978255142","line":1936,"new":{"module_name":"r#mod__middle__irgen__tests","snapshot_name":"block_scope","metadata":{"source":"tests/middle/irgen.rs","assertion_line":1936,"expression":"llvm_ir"},"snapshot":"@b = dso_local global i32 5\n@c = dso_local global [4 x i32] [i32 6, i32 7, i32 8, i32 9]\ndeclare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine i32 @main() {\nentry:\n%alloca_2 = alloca i32\n%alloca_5 = alloca [2 x [8 x i32]]\ncall void @llvm.memset.p0.i32([2 x [8 x i32]]* %alloca_5, i8 0, i32 64, i1 false)\nbr label %cond0\n\ncond0:\n%getelementptr_12 = getelementptr [4 x i32], ptr @c, i32 0, i32 2\n%load_13 = load i32, ptr %getelementptr_12\n%icmp_14 = icmp ne i32 %load_13, 0\nbr i1 %icmp_14, label %then1, label %alt2\n\nthen1:\ncall void @putch(i32 10)\nbr label %final3\n\nalt2:\nbr label %final3\n\nfinal3:\nstore i32 0, ptr %alloca_2\nbr label %exit\n\nexit:\n%load_3 = load i32, ptr %alloca_2\nret i32 %load_3\n\n\n}\n"},"old":{"module_name":"r#mod__middle__irgen__tests","metadata":{},"snapshot":"@b = dso_local global i32 5\n@c = dso_local global [4 x i32] [i32 6, i32 7, i32 8, i32 9]\ndeclare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine i32 @main() {\nentry:\n%alloca_2 = alloca i32\n%alloca_5 = alloca [2 x [8 x i32]]\ncall void @llvm.memset.p0.i32([2 x [8 x i32]]* %alloca_5, i8 0, i32 64, i1 false)\n%getelementptr_7 = getelementptr [2 x [8 x i32]], ptr %alloca_5, i32 0, i32 0\nbr label %cond0\n\ncond0:\n%getelementptr_13 = getelementptr [4 x i32], ptr @c, i32 0, i32 2\n%load_14 = load i32, ptr %getelementptr_13\n%icmp_15 = icmp ne i32 %load_14, 0\nbr i1 %icmp_15, label %then1, label %alt2\n\nthen1:\ncall void @putch(i32 10)\nbr label %final3\n\nalt2:\nbr label %final3\n\nfinal3:\nstore i32 0, ptr %alloca_2\nbr label %exit\n\nexit:\n%load_3 = load i32, ptr %alloca_2\nret i32 %load_3\n\n\n}"}}
{"run_id":"1723535780-978255142","line":1310,"new":{"module_name":"r#mod__middle__irgen__tests","snapshot_name":"assign_array","metadata":{"source":"tests/middle/irgen.rs","assertion_line":1310,"expression":"llvm_ir"},"snapshot":"declare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine i32 @main() {\nentry:\n%alloca_2 = alloca i32\n%alloca_5 = alloca [1 x i32]\ncall void @llvm.memset.p0.i32([1 x i32]* %alloca_5, i8 0, i32 4, i1 false)\n%getelementptr_7 = getelementptr [1 x i32], ptr %alloca_5, i32 0, i32 0\nstore i32 0, ptr %getelementptr_7\n%getelementptr_9 = getelementptr [1 x i32], ptr %alloca_5, i32 0, i32 0\n%load_10 = load i32, ptr %getelementptr_9\n%getelementptr_11 = getelementptr [1 x i32], ptr %alloca_5, i32 0, i32 %load_10\nstore i32 1, ptr %getelementptr_11\n%getelementptr_13 = getelementptr [1 x i32], ptr %alloca_5, i32 0, i32 0\n%load_14 = load i32, ptr %getelementptr_13\nstore i32 %load_14, ptr %alloca_2\nbr label %exit\n\nexit:\n%load_3 = load i32, ptr %alloca_2\nret i32 %load_3\n\n\n}\n"},"old":{"module_name":"r#mod__middle__irgen__tests","metadata":{},"snapshot":"declare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine i32 @main() {\nentry:\n%alloca_2 = alloca i32\n%alloca_5 = alloca [1 x i32]\ncall void @llvm.memset.p0.i32([1 x i32]* %alloca_5, i8 0, i32 4, i1 false)\n%getelementptr_7 = getelementptr [1 x i32], ptr %alloca_5, i32 0, i32 0\n%getelementptr_8 = getelementptr i32, ptr %getelementptr_7, i32 0\nstore i32 0, ptr %getelementptr_8\n%getelementptr_10 = getelementptr [1 x i32], ptr %alloca_5, i32 0, i32 0\n%load_11 = load i32, ptr %getelementptr_10\n%getelementptr_12 = getelementptr [1 x i32], ptr %alloca_5, i32 0, i32 %load_11\nstore i32 1, ptr %getelementptr_12\n%getelementptr_14 = getelementptr [1 x i32], ptr %alloca_5, i32 0, i32 0\n%load_15 = load i32, ptr %getelementptr_14\nstore i32 %load_15, ptr %alloca_2\nbr label %exit\n\nexit:\n%load_3 = load i32, ptr %alloca_2\nret i32 %load_3\n\n\n}"}}
{"run_id":"1723535780-978255142","line":1369,"new":{"module_name":"r#mod__middle__irgen__tests","snapshot_name":"pointer","metadata":{"source":"tests/middle/irgen.rs","assertion_line":1369,"expression":"llvm_ir"},"snapshot":"declare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine i32 @main() {\nentry:\n%alloca_2 = alloca i32\n%alloca_5 = alloca [1 x i32]\ncall void @llvm.memset.p0.i32([1 x i32]* %alloca_5, i8 0, i32 4, i1 false)\n%getelementptr_7 = getelementptr [1 x i32], ptr %alloca_5, i32 0, i32 0\nstore i32 8, ptr %getelementptr_7\n%getelementptr_9 = getelementptr [1 x i32], ptr %alloca_5, i32 0, i32 0\n%call_10 = call i32 @f(i32* %getelementptr_9)\n%getelementptr_11 = getelementptr [1 x i32], ptr %alloca_5, i32 0, i32 0\ncall void @putarray(i32 1, i32* %getelementptr_11)\nstore i32 0, ptr %alloca_2\nbr label %exit\n\nexit:\n%load_3 = load i32, ptr %alloca_2\nret i32 %load_3\n\n\n}\ndefine i32 @f(i32* %a) {\nentry:\n%alloca_17 = alloca i32\n%alloca_20 = alloca i32*\nstore i32* %a, ptr %alloca_20\n%load_22 = load i32*, ptr %alloca_20\n%getelementptr_23 = getelementptr i32, ptr %load_22, i32 0\nstore i32 1, ptr %getelementptr_23\n%load_25 = load i32*, ptr %alloca_20\n%getelementptr_26 = getelementptr i32, ptr %load_25, i32 0\n%load_27 = load i32, ptr %getelementptr_26\nstore i32 %load_27, ptr %alloca_17\nbr label %exit\n\nexit:\n%load_18 = load i32, ptr %alloca_17\nret i32 %load_18\n\n\n}\n"},"old":{"module_name":"r#mod__middle__irgen__tests","metadata":{},"snapshot":"declare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine i32 @main() {\nentry:\n%alloca_2 = alloca i32\n%alloca_5 = alloca [1 x i32]\ncall void @llvm.memset.p0.i32([1 x i32]* %alloca_5, i8 0, i32 4, i1 false)\n%getelementptr_7 = getelementptr [1 x i32], ptr %alloca_5, i32 0, i32 0\n%getelementptr_8 = getelementptr i32, ptr %getelementptr_7, i32 0\nstore i32 8, ptr %getelementptr_8\n%getelementptr_10 = getelementptr [1 x i32], ptr %alloca_5, i32 0, i32 0\n%call_11 = call i32 @f(i32* %getelementptr_10)\n%getelementptr_12 = getelementptr [1 x i32], ptr %alloca_5, i32 0, i32 0\ncall void @putarray(i32 1, i32* %getelementptr_12)\nstore i32 0, ptr %alloca_2\nbr label %exit\n\nexit:\n%load_3 = load i32, ptr %alloca_2\nret i32 %load_3\n\n\n}\ndefine i32 @f(i32* %a) {\nentry:\n%alloca_18 = alloca i32\n%alloca_21 = alloca i32*\nstore i32* %a, ptr %alloca_21\n%load_23 = load i32*, ptr %alloca_21\n%getelementptr_24 = getelementptr i32, ptr %load_23, i32 0\nstore i32 1, ptr %getelementptr_24\n%load_26 = load i32*, ptr %alloca_21\n%getelementptr_27 = getelementptr i32, ptr %load_26, i32 0\n%load_28 = load i32, ptr %getelementptr_27\nstore i32 %load_28, ptr %alloca_18\nbr label %exit\n\nexit:\n%load_19 = load i32, ptr %alloca_18\nret i32 %load_19\n\n\n}"}}
{"run_id":"1723535780-978255142","line":2120,"new":{"module_name":"r#mod__middle__irgen__tests","snapshot_name":"inner_fold","metadata":{"source":"tests/middle/irgen.rs","assertion_line":2120,"expression":"llvm_ir"},"snapshot":"@len = dso_local constant i32 20\ndeclare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine i32 @main() {\nentry:\n%alloca_2 = alloca i32\nbr label %cond0\n\ncond0:\n%load_10 = load i32, ptr @len\n%icmp_11 = icmp eq i32 %load_10, 20\nbr i1 %icmp_11, label %then1, label %alt2\n\nthen1:\n%alloca_13 = alloca [20 x i32]\ncall void @llvm.memset.p0.i32([20 x i32]* %alloca_13, i8 0, i32 80, i1 false)\nbr label %final3\n\nalt2:\nbr label %final3\n\nfinal3:\nstore i32 0, ptr %alloca_2\nbr label %exit\n\nexit:\n%load_3 = load i32, ptr %alloca_2\nret i32 %load_3\n\n\n}\n"},"old":{"module_name":"r#mod__middle__irgen__tests","metadata":{},"snapshot":"@len = dso_local constant i32 20\ndeclare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine i32 @main() {\nentry:\n%alloca_2 = alloca i32\nbr label %cond0\n\ncond0:\n%load_10 = load i32, ptr @len\n%icmp_11 = icmp eq i32 %load_10, 20\nbr i1 %icmp_11, label %then1, label %alt2\n\nthen1:\n%alloca_13 = alloca [20 x i32]\ncall void @llvm.memset.p0.i32([20 x i32]* %alloca_13, i8 0, i32 80, i1 false)\n%getelementptr_15 = getelementptr [20 x i32], ptr %alloca_13, i32 0, i32 0\nbr label %final3\n\nalt2:\nbr label %final3\n\nfinal3:\nstore i32 0, ptr %alloca_2\nbr label %exit\n\nexit:\n%load_3 = load i32, ptr %alloca_2\nret i32 %load_3\n\n\n}"}}
{"run_id":"1723535780-978255142","line":1230,"new":{"module_name":"r#mod__middle__irgen__tests","snapshot_name":"variable_array","metadata":{"source":"tests/middle/irgen.rs","assertion_line":1230,"expression":"llvm_ir"},"snapshot":"declare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine i32 @main() {\nentry:\n%alloca_2 = alloca i32\n%alloca_5 = alloca [2 x [2 x [2 x float]]]\ncall void @llvm.memset.p0.i32([2 x [2 x [2 x float]]]* %alloca_5, i8 0, i32 32, i1 false)\n%getelementptr_7 = getelementptr [2 x [2 x [2 x float]]], ptr %alloca_5, i32 0, i32 0\n%getelementptr_8 = getelementptr [2 x [2 x float]], ptr %getelementptr_7, i32 0, i32 0\n%getelementptr_9 = getelementptr [2 x float], ptr %getelementptr_8, i32 0, i32 0\n%itofp_10 = sitofp i32 1 to float\nstore float %itofp_10, ptr %getelementptr_9\n%getelementptr_12 = getelementptr [2 x float], ptr %getelementptr_8, i32 0, i32 1\n%itofp_13 = sitofp i32 1 to float\nstore float %itofp_13, ptr %getelementptr_12\n%getelementptr_15 = getelementptr [2 x [2 x float]], ptr %getelementptr_7, i32 0, i32 1\n%getelementptr_16 = getelementptr [2 x float], ptr %getelementptr_15, i32 0, i32 0\n%itofp_17 = sitofp i32 4 to float\nstore float %itofp_17, ptr %getelementptr_16\n%getelementptr_19 = getelementptr [2 x float], ptr %getelementptr_15, i32 0, i32 1\n%itofp_20 = sitofp i32 5 to float\nstore float %itofp_20, ptr %getelementptr_19\n%getelementptr_22 = getelementptr [2 x [2 x [2 x float]]], ptr %alloca_5, i32 0, i32 1\n%getelementptr_23 = getelementptr [2 x [2 x float]], ptr %getelementptr_22, i32 0, i32 0\n%getelementptr_24 = getelementptr [2 x float], ptr %getelementptr_23, i32 0, i32 0\n%itofp_25 = sitofp i32 1 to float\nstore float %itofp_25, ptr %getelementptr_24\n%getelementptr_27 = getelementptr [2 x [2 x float]], ptr %getelementptr_22, i32 0, i32 1\n%getelementptr_28 = getelementptr [2 x float], ptr %getelementptr_27, i32 0, i32 0\n%itofp_29 = sitofp i32 4 to float\nstore float %itofp_29, ptr %getelementptr_28\n%getelementptr_31 = getelementptr [2 x [2 x [2 x float]]], ptr %alloca_5, i32 0, i32 1\n%getelementptr_32 = getelementptr [2 x [2 x float]], ptr %getelementptr_31, i32 0, i32 1\n%getelementptr_33 = getelementptr [2 x float], ptr %getelementptr_32, i32 0, i32 1\n%load_34 = load float, ptr %getelementptr_33\n%fptoi_35 = fptosi float %load_34 to i32\nstore i32 %fptoi_35, ptr %alloca_2\nbr label %exit\n\nexit:\n%load_3 = load i32, ptr %alloca_2\nret i32 %load_3\n\n\n}\n"},"old":{"module_name":"r#mod__middle__irgen__tests","metadata":{},"snapshot":"declare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine i32 @main() {\nentry:\n%alloca_2 = alloca i32\n%alloca_5 = alloca [2 x [2 x [2 x float]]]\ncall void @llvm.memset.p0.i32([2 x [2 x [2 x float]]]* %alloca_5, i8 0, i32 32, i1 false)\n%getelementptr_7 = getelementptr [2 x [2 x [2 x float]]], ptr %alloca_5, i32 0, i32 0\n%getelementptr_8 = getelementptr [2 x [2 x float]], ptr %getelementptr_7, i32 0\n%getelementptr_9 = getelementptr [2 x [2 x float]], ptr %getelementptr_8, i32 0, i32 0\n%getelementptr_10 = getelementptr [2 x float], ptr %getelementptr_9, i32 0\n%getelementptr_11 = getelementptr [2 x float], ptr %getelementptr_10, i32 0, i32 0\n%getelementptr_12 = getelementptr float, ptr %getelementptr_11, i32 0\n%itofp_13 = sitofp i32 1 to float\nstore float %itofp_13, ptr %getelementptr_12\n%getelementptr_15 = getelementptr float, ptr %getelementptr_11, i32 1\n%itofp_16 = sitofp i32 1 to float\nstore float %itofp_16, ptr %getelementptr_15\n%getelementptr_18 = getelementptr [2 x float], ptr %getelementptr_9, i32 1\n%getelementptr_19 = getelementptr [2 x float], ptr %getelementptr_18, i32 0, i32 0\n%getelementptr_20 = getelementptr float, ptr %getelementptr_19, i32 0\n%itofp_21 = sitofp i32 4 to float\nstore float %itofp_21, ptr %getelementptr_20\n%getelementptr_23 = getelementptr float, ptr %getelementptr_19, i32 1\n%itofp_24 = sitofp i32 5 to float\nstore float %itofp_24, ptr %getelementptr_23\n%getelementptr_26 = getelementptr [2 x [2 x float]], ptr %getelementptr_7, i32 1\n%getelementptr_27 = getelementptr [2 x [2 x float]], ptr %getelementptr_26, i32 0, i32 0\n%getelementptr_28 = getelementptr [2 x float], ptr %getelementptr_27, i32 0\n%getelementptr_29 = getelementptr [2 x float], ptr %getelementptr_28, i32 0, i32 0\n%getelementptr_30 = getelementptr float, ptr %getelementptr_29, i32 0\n%itofp_31 = sitofp i32 1 to float\nstore float %itofp_31, ptr %getelementptr_30\n%getelementptr_33 = getelementptr [2 x float], ptr %getelementptr_27, i32 1\n%getelementptr_34 = getelementptr [2 x float], ptr %getelementptr_33, i32 0, i32 0\n%getelementptr_35 = getelementptr float, ptr %getelementptr_34, i32 0\n%itofp_36 = sitofp i32 4 to float\nstore float %itofp_36, ptr %getelementptr_35\n%getelementptr_38 = getelementptr [2 x [2 x [2 x float]]], ptr %alloca_5, i32 0, i32 1\n%getelementptr_39 = getelementptr [2 x [2 x float]], ptr %getelementptr_38, i32 0, i32 1\n%getelementptr_40 = getelementptr [2 x float], ptr %getelementptr_39, i32 0, i32 1\n%load_41 = load float, ptr %getelementptr_40\n%fptoi_42 = fptosi float %load_41 to i32\nstore i32 %fptoi_42, ptr %alloca_2\nbr label %exit\n\nexit:\n%load_3 = load i32, ptr %alloca_2\nret i32 %load_3\n\n\n}"}}
