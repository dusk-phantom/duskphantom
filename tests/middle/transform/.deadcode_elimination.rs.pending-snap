{"run_id":"1722748393-255167580","line":67,"new":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","snapshot_name":"dce_1","metadata":{"source":"tests/middle/transform/deadcode_elimination.rs","assertion_line":67,"expression":"format!(\"BEFORE:\\n{}\\n\\nAFTER:\\n{}\", llvm_before, llvm_after)"},"snapshot":"BEFORE:\n@loopCount = dso_local global i32 0\n@global = dso_local global i32 0\ndeclare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine void @func(i32 %i0) {\nentry:\n%alloca_3 = alloca i32\n%alloca_5 = alloca i32\n%alloca_7 = alloca i32\n%alloca_9 = alloca i32\n%alloca_11 = alloca i32\n%alloca_13 = alloca i32\nstore i32 %i0, ptr @global\nbr label %exit\n\nexit:\nret void\n\n\n}\ndefine i32 @main() {\nentry:\n%alloca_20 = alloca i32\n%alloca_23 = alloca i32\n%alloca_25 = alloca i32\n%call_27 = call i32 @getint()\nstore i32 %call_27, ptr @loopCount\ncall void @_sysy_starttime(i32 21)\nbr label %cond0\n\ncond0:\n%phi_83 = phi i32 [0, %entry], [%phi_84, %final5]\n%phi_81 = phi i32 [0, %entry], [%SDiv_56, %final5]\n%phi_80 = phi i32 [0, %entry], [%Add_66, %final5]\n%phi_79 = phi i32 [0, %entry], [%SRem_63, %final5]\n%load_70 = load i32, ptr @loopCount\n%icmp_71 = icmp slt i32 %phi_80, %load_70\nbr i1 %icmp_71, label %body1, label %final2\n\nbody1:\n%alloca_34 = alloca i32\n%alloca_36 = alloca i32\nbr label %cond3\n\nfinal2:\ncall void @_sysy_stoptime(i32 37)\ncall void @putint(i32 %phi_79)\ncall void @putch(i32 10)\nbr label %exit\n\ncond3:\n%phi_84 = phi i32 [0, %body1], [%Add_49, %body4]\n%phi_82 = phi i32 [0, %body1], [%Add_46, %body4]\n%icmp_53 = icmp slt i32 %phi_84, 60\nbr i1 %icmp_53, label %body4, label %final5\n\nexit:\nret i32 0\n\nbody4:\ncall void @func(i32 %phi_80)\n%load_45 = load i32, ptr @global\n%Add_46 = add i32 %phi_82, %load_45\n%Add_49 = add i32 %phi_84, 1\nbr label %cond3\n\nfinal5:\n%SDiv_56 = sdiv i32 %phi_82, 60\n%Add_60 = add i32 %phi_79, %SDiv_56\n%SRem_63 = srem i32 %Add_60, 134209537\n%Add_66 = add i32 %phi_80, 1\nbr label %cond0\n\n\n}\n\n\nAFTER:\n@loopCount = dso_local global i32 0\n@global = dso_local global i32 0\ndeclare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine void @func(i32 %i0) {\nentry:\n%alloca_3 = alloca i32\n%alloca_5 = alloca i32\n%alloca_7 = alloca i32\n%alloca_9 = alloca i32\n%alloca_11 = alloca i32\n%alloca_13 = alloca i32\nstore i32 %i0, ptr @global\nbr label %exit\n\nexit:\nret void\n\n\n}\ndefine i32 @main() {\nentry:\n%alloca_20 = alloca i32\n%alloca_23 = alloca i32\n%alloca_25 = alloca i32\n%call_27 = call i32 @getint()\nstore i32 %call_27, ptr @loopCount\ncall void @_sysy_starttime(i32 21)\nbr label %cond0\n\ncond0:\n%phi_83 = phi i32 [0, %entry], [%phi_84, %final5]\n%phi_81 = phi i32 [0, %entry], [%SDiv_56, %final5]\n%phi_80 = phi i32 [0, %entry], [%Add_66, %final5]\n%phi_79 = phi i32 [0, %entry], [%SRem_63, %final5]\n%load_70 = load i32, ptr @loopCount\n%icmp_71 = icmp slt i32 %phi_80, %load_70\nbr i1 %icmp_71, label %body1, label %final2\n\nbody1:\n%alloca_34 = alloca i32\n%alloca_36 = alloca i32\nbr label %cond3\n\nfinal2:\ncall void @_sysy_stoptime(i32 37)\ncall void @putint(i32 %phi_79)\ncall void @putch(i32 10)\nbr label %exit\n\ncond3:\n%phi_84 = phi i32 [0, %body1], [%Add_49, %body4]\n%phi_82 = phi i32 [0, %body1], [%Add_46, %body4]\n%icmp_53 = icmp slt i32 %phi_84, 60\nbr i1 %icmp_53, label %body4, label %final5\n\nexit:\nret i32 0\n\nbody4:\ncall void @func(i32 %phi_80)\n%load_45 = load i32, ptr @global\n%Add_46 = add i32 %phi_82, %load_45\n%Add_49 = add i32 %phi_84, 1\nbr label %cond3\n\nfinal5:\n%SDiv_56 = sdiv i32 %phi_82, 60\n%Add_60 = add i32 %phi_79, %SDiv_56\n%SRem_63 = srem i32 %Add_60, 134209537\n%Add_66 = add i32 %phi_80, 1\nbr label %cond0\n\n\n}\n"},"old":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","metadata":{},"snapshot":""}}
{"run_id":"1722748532-390653169","line":67,"new":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","snapshot_name":"dce_1","metadata":{"source":"tests/middle/transform/deadcode_elimination.rs","assertion_line":67,"expression":"diff::lines(&llvm_before, &llvm_after)"},"snapshot":"[\n    Both(\n        \"@loopCount = dso_local global i32 0\",\n        \"@loopCount = dso_local global i32 0\",\n    ),\n    Both(\n        \"@global = dso_local global i32 0\",\n        \"@global = dso_local global i32 0\",\n    ),\n    Both(\n        \"declare i32 @getint()\",\n        \"declare i32 @getint()\",\n    ),\n    Both(\n        \"declare i32 @getch()\",\n        \"declare i32 @getch()\",\n    ),\n    Both(\n        \"declare float @getfloat()\",\n        \"declare float @getfloat()\",\n    ),\n    Both(\n        \"declare void @putint(i32 %p0)\",\n        \"declare void @putint(i32 %p0)\",\n    ),\n    Both(\n        \"declare void @putch(i32 %p0)\",\n        \"declare void @putch(i32 %p0)\",\n    ),\n    Both(\n        \"declare void @putfloat(float %p0)\",\n        \"declare void @putfloat(float %p0)\",\n    ),\n    Both(\n        \"declare i32 @getarray(i32* %p0)\",\n        \"declare i32 @getarray(i32* %p0)\",\n    ),\n    Both(\n        \"declare i32 @getfarray(float* %p0)\",\n        \"declare i32 @getfarray(float* %p0)\",\n    ),\n    Both(\n        \"declare void @putarray(i32 %p0, i32* %p1)\",\n        \"declare void @putarray(i32 %p0, i32* %p1)\",\n    ),\n    Both(\n        \"declare void @putfarray(i32 %p0, float* %p1)\",\n        \"declare void @putfarray(i32 %p0, float* %p1)\",\n    ),\n    Both(\n        \"declare void @_sysy_starttime(i32 %p0)\",\n        \"declare void @_sysy_starttime(i32 %p0)\",\n    ),\n    Both(\n        \"declare void @_sysy_stoptime(i32 %p0)\",\n        \"declare void @_sysy_stoptime(i32 %p0)\",\n    ),\n    Both(\n        \"declare void @putf()\",\n        \"declare void @putf()\",\n    ),\n    Both(\n        \"declare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\",\n        \"declare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\",\n    ),\n    Both(\n        \"define void @func(i32 %i0) {\",\n        \"define void @func(i32 %i0) {\",\n    ),\n    Both(\n        \"entry:\",\n        \"entry:\",\n    ),\n    Both(\n        \"%alloca_3 = alloca i32\",\n        \"%alloca_3 = alloca i32\",\n    ),\n    Both(\n        \"%alloca_5 = alloca i32\",\n        \"%alloca_5 = alloca i32\",\n    ),\n    Both(\n        \"%alloca_7 = alloca i32\",\n        \"%alloca_7 = alloca i32\",\n    ),\n    Both(\n        \"%alloca_9 = alloca i32\",\n        \"%alloca_9 = alloca i32\",\n    ),\n    Both(\n        \"%alloca_11 = alloca i32\",\n        \"%alloca_11 = alloca i32\",\n    ),\n    Both(\n        \"%alloca_13 = alloca i32\",\n        \"%alloca_13 = alloca i32\",\n    ),\n    Both(\n        \"store i32 %i0, ptr @global\",\n        \"store i32 %i0, ptr @global\",\n    ),\n    Both(\n        \"br label %exit\",\n        \"br label %exit\",\n    ),\n    Both(\n        \"\",\n        \"\",\n    ),\n    Both(\n        \"exit:\",\n        \"exit:\",\n    ),\n    Both(\n        \"ret void\",\n        \"ret void\",\n    ),\n    Both(\n        \"\",\n        \"\",\n    ),\n    Both(\n        \"\",\n        \"\",\n    ),\n    Both(\n        \"}\",\n        \"}\",\n    ),\n    Both(\n        \"define i32 @main() {\",\n        \"define i32 @main() {\",\n    ),\n    Both(\n        \"entry:\",\n        \"entry:\",\n    ),\n    Both(\n        \"%alloca_20 = alloca i32\",\n        \"%alloca_20 = alloca i32\",\n    ),\n    Both(\n        \"%alloca_23 = alloca i32\",\n        \"%alloca_23 = alloca i32\",\n    ),\n    Both(\n        \"%alloca_25 = alloca i32\",\n        \"%alloca_25 = alloca i32\",\n    ),\n    Both(\n        \"%call_27 = call i32 @getint()\",\n        \"%call_27 = call i32 @getint()\",\n    ),\n    Both(\n        \"store i32 %call_27, ptr @loopCount\",\n        \"store i32 %call_27, ptr @loopCount\",\n    ),\n    Both(\n        \"call void @_sysy_starttime(i32 21)\",\n        \"call void @_sysy_starttime(i32 21)\",\n    ),\n    Both(\n        \"br label %cond0\",\n        \"br label %cond0\",\n    ),\n    Both(\n        \"\",\n        \"\",\n    ),\n    Both(\n        \"cond0:\",\n        \"cond0:\",\n    ),\n    Both(\n        \"%phi_83 = phi i32 [0, %entry], [%phi_84, %final5]\",\n        \"%phi_83 = phi i32 [0, %entry], [%phi_84, %final5]\",\n    ),\n    Both(\n        \"%phi_81 = phi i32 [0, %entry], [%SDiv_56, %final5]\",\n        \"%phi_81 = phi i32 [0, %entry], [%SDiv_56, %final5]\",\n    ),\n    Both(\n        \"%phi_80 = phi i32 [0, %entry], [%Add_66, %final5]\",\n        \"%phi_80 = phi i32 [0, %entry], [%Add_66, %final5]\",\n    ),\n    Both(\n        \"%phi_79 = phi i32 [0, %entry], [%SRem_63, %final5]\",\n        \"%phi_79 = phi i32 [0, %entry], [%SRem_63, %final5]\",\n    ),\n    Both(\n        \"%load_70 = load i32, ptr @loopCount\",\n        \"%load_70 = load i32, ptr @loopCount\",\n    ),\n    Both(\n        \"%icmp_71 = icmp slt i32 %phi_80, %load_70\",\n        \"%icmp_71 = icmp slt i32 %phi_80, %load_70\",\n    ),\n    Both(\n        \"br i1 %icmp_71, label %body1, label %final2\",\n        \"br i1 %icmp_71, label %body1, label %final2\",\n    ),\n    Both(\n        \"\",\n        \"\",\n    ),\n    Both(\n        \"body1:\",\n        \"body1:\",\n    ),\n    Both(\n        \"%alloca_34 = alloca i32\",\n        \"%alloca_34 = alloca i32\",\n    ),\n    Both(\n        \"%alloca_36 = alloca i32\",\n        \"%alloca_36 = alloca i32\",\n    ),\n    Both(\n        \"br label %cond3\",\n        \"br label %cond3\",\n    ),\n    Both(\n        \"\",\n        \"\",\n    ),\n    Both(\n        \"final2:\",\n        \"final2:\",\n    ),\n    Both(\n        \"call void @_sysy_stoptime(i32 37)\",\n        \"call void @_sysy_stoptime(i32 37)\",\n    ),\n    Both(\n        \"call void @putint(i32 %phi_79)\",\n        \"call void @putint(i32 %phi_79)\",\n    ),\n    Both(\n        \"call void @putch(i32 10)\",\n        \"call void @putch(i32 10)\",\n    ),\n    Both(\n        \"br label %exit\",\n        \"br label %exit\",\n    ),\n    Both(\n        \"\",\n        \"\",\n    ),\n    Both(\n        \"cond3:\",\n        \"cond3:\",\n    ),\n    Both(\n        \"%phi_84 = phi i32 [0, %body1], [%Add_49, %body4]\",\n        \"%phi_84 = phi i32 [0, %body1], [%Add_49, %body4]\",\n    ),\n    Both(\n        \"%phi_82 = phi i32 [0, %body1], [%Add_46, %body4]\",\n        \"%phi_82 = phi i32 [0, %body1], [%Add_46, %body4]\",\n    ),\n    Both(\n        \"%icmp_53 = icmp slt i32 %phi_84, 60\",\n        \"%icmp_53 = icmp slt i32 %phi_84, 60\",\n    ),\n    Both(\n        \"br i1 %icmp_53, label %body4, label %final5\",\n        \"br i1 %icmp_53, label %body4, label %final5\",\n    ),\n    Both(\n        \"\",\n        \"\",\n    ),\n    Both(\n        \"exit:\",\n        \"exit:\",\n    ),\n    Both(\n        \"ret i32 0\",\n        \"ret i32 0\",\n    ),\n    Both(\n        \"\",\n        \"\",\n    ),\n    Both(\n        \"body4:\",\n        \"body4:\",\n    ),\n    Both(\n        \"call void @func(i32 %phi_80)\",\n        \"call void @func(i32 %phi_80)\",\n    ),\n    Both(\n        \"%load_45 = load i32, ptr @global\",\n        \"%load_45 = load i32, ptr @global\",\n    ),\n    Both(\n        \"%Add_46 = add i32 %phi_82, %load_45\",\n        \"%Add_46 = add i32 %phi_82, %load_45\",\n    ),\n    Both(\n        \"%Add_49 = add i32 %phi_84, 1\",\n        \"%Add_49 = add i32 %phi_84, 1\",\n    ),\n    Both(\n        \"br label %cond3\",\n        \"br label %cond3\",\n    ),\n    Both(\n        \"\",\n        \"\",\n    ),\n    Both(\n        \"final5:\",\n        \"final5:\",\n    ),\n    Both(\n        \"%SDiv_56 = sdiv i32 %phi_82, 60\",\n        \"%SDiv_56 = sdiv i32 %phi_82, 60\",\n    ),\n    Both(\n        \"%Add_60 = add i32 %phi_79, %SDiv_56\",\n        \"%Add_60 = add i32 %phi_79, %SDiv_56\",\n    ),\n    Both(\n        \"%SRem_63 = srem i32 %Add_60, 134209537\",\n        \"%SRem_63 = srem i32 %Add_60, 134209537\",\n    ),\n    Both(\n        \"%Add_66 = add i32 %phi_80, 1\",\n        \"%Add_66 = add i32 %phi_80, 1\",\n    ),\n    Both(\n        \"br label %cond0\",\n        \"br label %cond0\",\n    ),\n    Both(\n        \"\",\n        \"\",\n    ),\n    Both(\n        \"\",\n        \"\",\n    ),\n    Both(\n        \"}\",\n        \"}\",\n    ),\n    Both(\n        \"\",\n        \"\",\n    ),\n]"},"old":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","metadata":{},"snapshot":""}}
{"run_id":"1722748710-203099812","line":68,"new":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","snapshot_name":"dce_1","metadata":{"source":"tests/middle/transform/deadcode_elimination.rs","assertion_line":68,"expression":"diff_lines(&llvm_before, &llvm_after)"},"snapshot":"@loopCount = dso_local global i32 0\n@global = dso_local global i32 0\ndeclare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine void @func(i32 %i0) {\nentry:\n%alloca_3 = alloca i32\n%alloca_5 = alloca i32\n%alloca_7 = alloca i32\n%alloca_9 = alloca i32\n%alloca_11 = alloca i32\n%alloca_13 = alloca i32\nstore i32 %i0, ptr @global\nbr label %exit\n\nexit:\nret void\n\n\n}\ndefine i32 @main() {\nentry:\n%alloca_20 = alloca i32\n%alloca_23 = alloca i32\n%alloca_25 = alloca i32\n%call_27 = call i32 @getint()\nstore i32 %call_27, ptr @loopCount\ncall void @_sysy_starttime(i32 21)\nbr label %cond0\n\ncond0:\n%phi_83 = phi i32 [0, %entry], [%phi_84, %final5]\n%phi_81 = phi i32 [0, %entry], [%SDiv_56, %final5]\n%phi_80 = phi i32 [0, %entry], [%Add_66, %final5]\n%phi_79 = phi i32 [0, %entry], [%SRem_63, %final5]\n%load_70 = load i32, ptr @loopCount\n%icmp_71 = icmp slt i32 %phi_80, %load_70\nbr i1 %icmp_71, label %body1, label %final2\n\nbody1:\n%alloca_34 = alloca i32\n%alloca_36 = alloca i32\nbr label %cond3\n\nfinal2:\ncall void @_sysy_stoptime(i32 37)\ncall void @putint(i32 %phi_79)\ncall void @putch(i32 10)\nbr label %exit\n\ncond3:\n%phi_84 = phi i32 [0, %body1], [%Add_49, %body4]\n%phi_82 = phi i32 [0, %body1], [%Add_46, %body4]\n%icmp_53 = icmp slt i32 %phi_84, 60\nbr i1 %icmp_53, label %body4, label %final5\n\nexit:\nret i32 0\n\nbody4:\ncall void @func(i32 %phi_80)\n%load_45 = load i32, ptr @global\n%Add_46 = add i32 %phi_82, %load_45\n%Add_49 = add i32 %phi_84, 1\nbr label %cond3\n\nfinal5:\n%SDiv_56 = sdiv i32 %phi_82, 60\n%Add_60 = add i32 %phi_79, %SDiv_56\n%SRem_63 = srem i32 %Add_60, 134209537\n%Add_66 = add i32 %phi_80, 1\nbr label %cond0\n\n\n}"},"old":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","metadata":{},"snapshot":""}}
{"run_id":"1722748932-405484011","line":68,"new":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","snapshot_name":"dce_1","metadata":{"source":"tests/middle/transform/deadcode_elimination.rs","assertion_line":68,"expression":"diff_lines(&llvm_before, &llvm_after)"},"snapshot":"@loopCount = dso_local global i32 0\n@global = dso_local global i32 0\ndeclare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine void @func(i32 %i0) {\nentry:\n%alloca_3 = alloca i32\n%alloca_5 = alloca i32\n%alloca_7 = alloca i32\n%alloca_9 = alloca i32\n%alloca_11 = alloca i32\n%alloca_13 = alloca i32\nstore i32 %i0, ptr @global\nbr label %exit\n\nexit:\nret void\n\n\n}\ndefine i32 @main() {\nentry:\n%alloca_20 = alloca i32\n%alloca_23 = alloca i32\n%alloca_25 = alloca i32\n%call_27 = call i32 @getint()\nstore i32 %call_27, ptr @loopCount\ncall void @_sysy_starttime(i32 21)\nbr label %cond0\n\ncond0:\n%phi_83 = phi i32 [0, %entry], [%phi_84, %final5]\n%phi_81 = phi i32 [0, %entry], [%SDiv_56, %final5]\n%phi_80 = phi i32 [0, %entry], [%Add_66, %final5]\n%phi_79 = phi i32 [0, %entry], [%SRem_63, %final5]\n%load_70 = load i32, ptr @loopCount\n%icmp_71 = icmp slt i32 %phi_80, %load_70\nbr i1 %icmp_71, label %body1, label %final2\n\nbody1:\n%alloca_34 = alloca i32\n%alloca_36 = alloca i32\nbr label %cond3\n\nfinal2:\ncall void @_sysy_stoptime(i32 37)\ncall void @putint(i32 %phi_79)\ncall void @putch(i32 10)\nbr label %exit\n\ncond3:\n%phi_84 = phi i32 [0, %body1], [%Add_49, %body4]\n%phi_82 = phi i32 [0, %body1], [%Add_46, %body4]\n%icmp_53 = icmp slt i32 %phi_84, 60\nbr i1 %icmp_53, label %body4, label %final5\n\nexit:\nret i32 0\n\nbody4:\ncall void @func(i32 %phi_80)\n%load_45 = load i32, ptr @global\n%Add_46 = add i32 %phi_82, %load_45\n%Add_49 = add i32 %phi_84, 1\nbr label %cond3\n\nfinal5:\n%SDiv_56 = sdiv i32 %phi_82, 60\n%Add_60 = add i32 %phi_79, %SDiv_56\n%SRem_63 = srem i32 %Add_60, 134209537\n%Add_66 = add i32 %phi_80, 1\nbr label %cond0\n\n\n}"},"old":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","metadata":{},"snapshot":""}}
{"run_id":"1722749733-614339246","line":68,"new":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","snapshot_name":"dce_1","metadata":{"source":"tests/middle/transform/deadcode_elimination.rs","assertion_line":68,"expression":"diff_lines(&llvm_before, &llvm_after)"},"snapshot":"@loopCount = dso_local global i32 0\n@global = dso_local global i32 0\ndeclare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine void @func(i32 %i0) {\nentry:\n \u001b[9m\u001b[31m%alloca_3 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_5 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_7 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_9 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_11 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_13 = alloca i32\u001b[39m\u001b[0m\nstore i32 %i0, ptr @global\n \u001b[9m\u001b[31mbr label %exit\u001b[39m\u001b[0m\n\nexit:\nret void\n\n\n}\ndefine i32 @main() {\nentry:\n \u001b[9m\u001b[31m%alloca_20 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_23 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_25 = alloca i32\u001b[39m\u001b[0m\n%call_27 = call i32 @getint()\nstore i32 %call_27, ptr @loopCount\ncall void @_sysy_starttime(i32 21)\n \u001b[9m\u001b[31mbr label %cond0\u001b[39m\u001b[0m\n\ncond0:\n \u001b[9m\u001b[31m%phi_83 = phi i32 [0, %entry], [%phi_84, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_81 = phi i32 [0, %entry], [%SDiv_56, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_80 = phi i32 [0, %entry], [%Add_66, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_79 = phi i32 [0, %entry], [%SRem_63, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%load_70 = load i32, ptr @loopCount\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%icmp_71 = icmp slt i32 %phi_80, %load_70\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr i1 %icmp_71, label %body1, label %final2\u001b[39m\u001b[0m\n\nbody1:\n \u001b[9m\u001b[31m%alloca_34 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_36 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr label %cond3\u001b[39m\u001b[0m\n\nfinal2:\ncall void @_sysy_stoptime(i32 37)\ncall void @putint(i32 %phi_79)\ncall void @putch(i32 10)\n \u001b[9m\u001b[31mbr label %exit\u001b[39m\u001b[0m\n\ncond3:\n \u001b[9m\u001b[31m%phi_84 = phi i32 [0, %body1], [%Add_49, %body4]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_82 = phi i32 [0, %body1], [%Add_46, %body4]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%icmp_53 = icmp slt i32 %phi_84, 60\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr i1 %icmp_53, label %body4, label %final5\u001b[39m\u001b[0m\n\nexit:\nret i32 0\n\nbody4:\ncall void @func(i32 %phi_80)\n \u001b[9m\u001b[31m%load_45 = load i32, ptr @global\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_46 = add i32 %phi_82, %load_45\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_49 = add i32 %phi_84, 1\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr label %cond3\u001b[39m\u001b[0m\n\nfinal5:\n \u001b[9m\u001b[31m%SDiv_56 = sdiv i32 %phi_82, 60\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_60 = add i32 %phi_79, %SDiv_56\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%SRem_63 = srem i32 %Add_60, 134209537\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_66 = add i32 %phi_80, 1\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr label %cond0\u001b[39m\u001b[0m\n\n\n}"},"old":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","metadata":{},"snapshot":""}}
{"run_id":"1722749800-36690587","line":68,"new":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","snapshot_name":"dce_1","metadata":{"source":"tests/middle/transform/deadcode_elimination.rs","assertion_line":68,"expression":"diff_lines(&llvm_before, &llvm_after).set_diff_only(true)"},"snapshot":"@loopCount = dso_local global i32 0\n@global = dso_local global i32 0\ndeclare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine void @func(i32 %i0) {\nentry:\n \u001b[9m\u001b[31m%alloca_3 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_5 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_7 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_9 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_11 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_13 = alloca i32\u001b[39m\u001b[0m\nstore i32 %i0, ptr @global\n \u001b[9m\u001b[31mbr label %exit\u001b[39m\u001b[0m\n\nexit:\nret void\n\n\n}\ndefine i32 @main() {\nentry:\n \u001b[9m\u001b[31m%alloca_20 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_23 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_25 = alloca i32\u001b[39m\u001b[0m\n%call_27 = call i32 @getint()\nstore i32 %call_27, ptr @loopCount\ncall void @_sysy_starttime(i32 21)\n \u001b[9m\u001b[31mbr label %cond0\u001b[39m\u001b[0m\n\ncond0:\n \u001b[9m\u001b[31m%phi_83 = phi i32 [0, %entry], [%phi_84, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_81 = phi i32 [0, %entry], [%SDiv_56, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_80 = phi i32 [0, %entry], [%Add_66, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_79 = phi i32 [0, %entry], [%SRem_63, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%load_70 = load i32, ptr @loopCount\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%icmp_71 = icmp slt i32 %phi_80, %load_70\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr i1 %icmp_71, label %body1, label %final2\u001b[39m\u001b[0m\n\nbody1:\n \u001b[9m\u001b[31m%alloca_34 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_36 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr label %cond3\u001b[39m\u001b[0m\n\nfinal2:\ncall void @_sysy_stoptime(i32 37)\ncall void @putint(i32 %phi_79)\ncall void @putch(i32 10)\n \u001b[9m\u001b[31mbr label %exit\u001b[39m\u001b[0m\n\ncond3:\n \u001b[9m\u001b[31m%phi_84 = phi i32 [0, %body1], [%Add_49, %body4]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_82 = phi i32 [0, %body1], [%Add_46, %body4]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%icmp_53 = icmp slt i32 %phi_84, 60\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr i1 %icmp_53, label %body4, label %final5\u001b[39m\u001b[0m\n\nexit:\nret i32 0\n\nbody4:\ncall void @func(i32 %phi_80)\n \u001b[9m\u001b[31m%load_45 = load i32, ptr @global\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_46 = add i32 %phi_82, %load_45\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_49 = add i32 %phi_84, 1\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr label %cond3\u001b[39m\u001b[0m\n\nfinal5:\n \u001b[9m\u001b[31m%SDiv_56 = sdiv i32 %phi_82, 60\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_60 = add i32 %phi_79, %SDiv_56\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%SRem_63 = srem i32 %Add_60, 134209537\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_66 = add i32 %phi_80, 1\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr label %cond0\u001b[39m\u001b[0m\n\n\n}"},"old":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","metadata":{},"snapshot":""}}
{"run_id":"1722749864-37837220","line":68,"new":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","snapshot_name":"dce_1","metadata":{"source":"tests/middle/transform/deadcode_elimination.rs","assertion_line":68,"expression":"diff_lines(&llvm_before, &llvm_after)"},"snapshot":"@loopCount = dso_local global i32 0\n@global = dso_local global i32 0\ndeclare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine void @func(i32 %i0) {\nentry:\n \u001b[9m\u001b[31m%alloca_3 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_5 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_7 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_9 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_11 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_13 = alloca i32\u001b[39m\u001b[0m\nstore i32 %i0, ptr @global\n \u001b[9m\u001b[31mbr label %exit\u001b[39m\u001b[0m\n\nexit:\nret void\n\n\n}\ndefine i32 @main() {\nentry:\n \u001b[9m\u001b[31m%alloca_20 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_23 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_25 = alloca i32\u001b[39m\u001b[0m\n%call_27 = call i32 @getint()\nstore i32 %call_27, ptr @loopCount\ncall void @_sysy_starttime(i32 21)\n \u001b[9m\u001b[31mbr label %cond0\u001b[39m\u001b[0m\n\ncond0:\n \u001b[9m\u001b[31m%phi_83 = phi i32 [0, %entry], [%phi_84, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_81 = phi i32 [0, %entry], [%SDiv_56, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_80 = phi i32 [0, %entry], [%Add_66, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_79 = phi i32 [0, %entry], [%SRem_63, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%load_70 = load i32, ptr @loopCount\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%icmp_71 = icmp slt i32 %phi_80, %load_70\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr i1 %icmp_71, label %body1, label %final2\u001b[39m\u001b[0m\n\nbody1:\n \u001b[9m\u001b[31m%alloca_34 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_36 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr label %cond3\u001b[39m\u001b[0m\n\nfinal2:\ncall void @_sysy_stoptime(i32 37)\ncall void @putint(i32 %phi_79)\ncall void @putch(i32 10)\n \u001b[9m\u001b[31mbr label %exit\u001b[39m\u001b[0m\n\ncond3:\n \u001b[9m\u001b[31m%phi_84 = phi i32 [0, %body1], [%Add_49, %body4]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_82 = phi i32 [0, %body1], [%Add_46, %body4]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%icmp_53 = icmp slt i32 %phi_84, 60\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr i1 %icmp_53, label %body4, label %final5\u001b[39m\u001b[0m\n\nexit:\nret i32 0\n\nbody4:\ncall void @func(i32 %phi_80)\n \u001b[9m\u001b[31m%load_45 = load i32, ptr @global\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_46 = add i32 %phi_82, %load_45\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_49 = add i32 %phi_84, 1\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr label %cond3\u001b[39m\u001b[0m\n\nfinal5:\n \u001b[9m\u001b[31m%SDiv_56 = sdiv i32 %phi_82, 60\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_60 = add i32 %phi_79, %SDiv_56\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%SRem_63 = srem i32 %Add_60, 134209537\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_66 = add i32 %phi_80, 1\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr label %cond0\u001b[39m\u001b[0m\n\n\n}"},"old":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","metadata":{},"snapshot":""}}
{"run_id":"1722749896-629446158","line":68,"new":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","snapshot_name":"dce_1","metadata":{"source":"tests/middle/transform/deadcode_elimination.rs","assertion_line":68,"expression":"diff_lines(&llvm_before, &llvm_after)"},"snapshot":"@loopCount = dso_local global i32 0\n@global = dso_local global i32 0\ndeclare i32 @getint()\ndeclare i32 @getch()\ndeclare float @getfloat()\ndeclare void @putint(i32 %p0)\ndeclare void @putch(i32 %p0)\ndeclare void @putfloat(float %p0)\ndeclare i32 @getarray(i32* %p0)\ndeclare i32 @getfarray(float* %p0)\ndeclare void @putarray(i32 %p0, i32* %p1)\ndeclare void @putfarray(i32 %p0, float* %p1)\ndeclare void @_sysy_starttime(i32 %p0)\ndeclare void @_sysy_stoptime(i32 %p0)\ndeclare void @putf()\ndeclare void @llvm.memset.p0.i32(i32* %p0, i8 %p1, i32 %p2, i1 %p3)\ndefine void @func(i32 %i0) {\nentry:\n \u001b[9m\u001b[31m%alloca_3 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_5 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_7 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_9 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_11 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_13 = alloca i32\u001b[39m\u001b[0m\nstore i32 %i0, ptr @global\n \u001b[9m\u001b[31mbr label %exit\u001b[39m\u001b[0m\n\nexit:\nret void\n\n\n}\ndefine i32 @main() {\nentry:\n \u001b[9m\u001b[31m%alloca_20 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_23 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_25 = alloca i32\u001b[39m\u001b[0m\n%call_27 = call i32 @getint()\nstore i32 %call_27, ptr @loopCount\ncall void @_sysy_starttime(i32 21)\n \u001b[9m\u001b[31mbr label %cond0\u001b[39m\u001b[0m\n\ncond0:\n \u001b[9m\u001b[31m%phi_83 = phi i32 [0, %entry], [%phi_84, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_81 = phi i32 [0, %entry], [%SDiv_56, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_80 = phi i32 [0, %entry], [%Add_66, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_79 = phi i32 [0, %entry], [%SRem_63, %final5]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%load_70 = load i32, ptr @loopCount\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%icmp_71 = icmp slt i32 %phi_80, %load_70\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr i1 %icmp_71, label %body1, label %final2\u001b[39m\u001b[0m\n\nbody1:\n \u001b[9m\u001b[31m%alloca_34 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%alloca_36 = alloca i32\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr label %cond3\u001b[39m\u001b[0m\n\nfinal2:\ncall void @_sysy_stoptime(i32 37)\ncall void @putint(i32 %phi_79)\ncall void @putch(i32 10)\n \u001b[9m\u001b[31mbr label %exit\u001b[39m\u001b[0m\n\ncond3:\n \u001b[9m\u001b[31m%phi_84 = phi i32 [0, %body1], [%Add_49, %body4]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%phi_82 = phi i32 [0, %body1], [%Add_46, %body4]\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%icmp_53 = icmp slt i32 %phi_84, 60\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr i1 %icmp_53, label %body4, label %final5\u001b[39m\u001b[0m\n\nexit:\nret i32 0\n\nbody4:\ncall void @func(i32 %phi_80)\n \u001b[9m\u001b[31m%load_45 = load i32, ptr @global\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_46 = add i32 %phi_82, %load_45\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_49 = add i32 %phi_84, 1\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr label %cond3\u001b[39m\u001b[0m\n\nfinal5:\n \u001b[9m\u001b[31m%SDiv_56 = sdiv i32 %phi_82, 60\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_60 = add i32 %phi_79, %SDiv_56\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%SRem_63 = srem i32 %Add_60, 134209537\u001b[39m\u001b[0m\n \u001b[9m\u001b[31m%Add_66 = add i32 %phi_80, 1\u001b[39m\u001b[0m\n \u001b[9m\u001b[31mbr label %cond0\u001b[39m\u001b[0m\n\n\n}"},"old":{"module_name":"r#mod__middle__transform__deadcode_elimination__tests_mem2reg","metadata":{},"snapshot":""}}
